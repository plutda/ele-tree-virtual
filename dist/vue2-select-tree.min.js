var Vue2SelectTree=function(e,t,n,r,i,o,a,d,s,l,c,h){"use strict";function u(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var f=u(e),p=u(t),v=u(r),y=u(i),g=u(a),k=u(d),m=u(s),C=u(l);function x(e){return x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},x(e)}function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function N(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(i=r.key,o=void 0,"symbol"==typeof(o=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(i,"string"))?o:String(o)),r)}var i,o}function _(e,t,n){return t&&N(e.prototype,t),n&&N(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function w(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,d=[],s=!0,l=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(d.push(r.value),d.length!==t);s=!0);}catch(e){l=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return d}}(e,t)||K(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function E(e){return function(e){if(Array.isArray(e))return $(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||K(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function K(e,t){if(e){if("string"==typeof e)return $(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?$(e,t):void 0}}function $(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var S={selectKeys:[],selectNodes:[],pop:function(){this.selectKeys.pop(),this.selectNodes.pop()},remove:function(e){this.selectKeys.splice(e,1),this.selectNodes.splice(e,1)},clear:function(){this.selectKeys=[],this.selectNodes=[]}},D={name:"ElInputTag",props:{value:{type:Array,default:function(){return[]}},addTagOnKeys:{type:Array,default:function(){return[13,188,9]}},readOnly:{type:Boolean,default:!1},size:String,placeholder:String},data:function(){return{store:S,newTag:""}},methods:{focusTagInput:function(){!this.readOnly&&this.$el.querySelector(".tag-input")&&this.$el.querySelector(".tag-input").focus()},addTag:function(e){return!(!(e=e.trim())||this.innerTags.includes(e))&&(this.innerTags.push(e),!0)},remove:function(e){S.remove(e)},focus:function(){this.$emit("focus")},blur:function(){this.$emit("blur")},searchTextChange:function(e){var t=e.target.value;this.$emit("searchTextChange",t)},clear:function(){S.selectKeys=[],S.selectNodes=[],this.$emit("clear")}}};function T(e,t,n,r,i,o,a,d,s,l){"boolean"!=typeof a&&(s=d,d=a,a=!1);const c="function"==typeof n?n.options:n;let h;if(e&&e.render&&(c.render=e.render,c.staticRenderFns=e.staticRenderFns,c._compiled=!0,i&&(c.functional=!0)),r&&(c._scopeId=r),o?(h=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),t&&t.call(this,s(e)),e&&e._registeredComponents&&e._registeredComponents.add(o)},c._ssrRegister=h):t&&(h=a?function(e){t.call(this,l(e,this.$root.$options.shadowRoot))}:function(e){t.call(this,d(e))}),h)if(c.functional){const e=c.render;c.render=function(t,n){return h.call(n),e(t,n)}}else{const e=c.beforeCreate;c.beforeCreate=e?[].concat(e,h):[h]}return n}const A="undefined"!=typeof navigator&&/msie [6-9]\\b/.test(navigator.userAgent.toLowerCase());function O(e){return(e,t)=>function(e,t){const n=A?t.media||"default":e,r=L[n]||(L[n]={ids:new Set,styles:[]});if(!r.ids.has(e)){r.ids.add(e);let n=t.source;if(t.map&&(n+="\n/*# sourceURL="+t.map.sources[0]+" */",n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(t.map))))+" */"),r.element||(r.element=document.createElement("style"),r.element.type="text/css",t.media&&r.element.setAttribute("media",t.media),void 0===I&&(I=document.head||document.getElementsByTagName("head")[0]),I.appendChild(r.element)),"styleSheet"in r.element)r.styles.push(n),r.element.styleSheet.cssText=r.styles.filter(Boolean).join("\n");else{const e=r.ids.size-1,t=document.createTextNode(n),i=r.element.childNodes;i[e]&&r.element.removeChild(i[e]),i.length?r.element.insertBefore(t,i[e]):r.element.appendChild(t)}}}(e,t)}let I;const L={};var P=T({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"el-input-tag input-tag-wrapper",class:[e.size?"el-input-tag--"+e.size:""],on:{click:e.focusTagInput}},[e._l(e.store.selectNodes,(function(t,r){return n("el-tag",e._b({key:t.id,attrs:{size:e.size,closable:!e.readOnly,"disable-transitions":!1},on:{close:function(t){return e.remove(r)}}},"el-tag",e.$attrs,!1),[e._v("\n    "+e._s(t.label)+"\n  ")])})),e._v(" "),e.readOnly?e._e():n("input",{staticClass:"tag-input",attrs:{placeholder:e.placeholder},domProps:{value:e.newTag},on:{blur:e.blur,focus:e.focus,input:e.searchTextChange}}),e._v(" "),n("i",{staticClass:"el-icon-close icon-close",on:{click:e.clear}})],2)},staticRenderFns:[]},(function(e){e&&e("data-v-52c20492_0",{source:".el-form-item.is-error .el-input-tag[data-v-52c20492]{border-color:#f56c6c}.input-tag-wrapper[data-v-52c20492]{position:relative;font-size:14px;background-color:#fff;background-image:none;border-radius:4px;border:1px solid #dcdfe6;box-sizing:border-box;color:#606266;display:inline-block;outline:0;padding:0 10px 0 5px;transition:border-color .2s cubic-bezier(.645,.045,.355,1);width:100%}.el-tag[data-v-52c20492]{margin-right:4px}.tag-input[data-v-52c20492]{min-height:30px;background:0 0;border:0;font-size:inherit;outline:0;padding-left:0;width:100px}.el-input-tag[data-v-52c20492]{text-align:left;display:flex;flex-direction:row;flex-wrap:wrap;padding-top:3px;padding-bottom:3px;min-height:42px}.el-input-tag--mini[data-v-52c20492]{min-height:28px;line-height:28px;font-size:12px}.el-input-tag--small[data-v-52c20492]{min-height:32px;line-height:32px}.el-input-tag--medium[data-v-52c20492]{min-height:36px;line-height:36px}.icon-close[data-v-52c20492]{position:absolute;right:5px;top:50%;transform:translateY(-50%)}",map:void 0,media:void 0})}),D,"data-v-52c20492",false,undefined,!1,O,void 0,void 0),B="$treeNodeId",z=function(e,t){t&&!t[B]&&Object.defineProperty(t,B,{value:e.id,enumerable:!1,configurable:!1,writable:!1})},j=function(e,t){return e?t[e]:t[B]},R=function(e){for(var t=!0,n=!0,r=!0,i=0,o=e.length;i<o;i++){var a=e[i];(!0!==a.checked||a.indeterminate)&&(t=!1,a.disabled||(r=!1)),(!1!==a.checked||a.indeterminate)&&(n=!1)}return{all:t,none:n,allWithoutDisable:r,half:!t&&!n}},q=function e(t){if(0!==t.childNodes.length){var n=R(t.childNodes),r=n.all,i=n.none,o=n.half;r?(t.checked=!0,t.indeterminate=!1):o?(t.checked=!1,t.indeterminate=!0):i&&(t.checked=!1,t.indeterminate=!1);var a=t.parent;a&&0!==a.level&&(t.store.checkStrictly||e(a))}},M=function(e,t){var n=e.store.props,r=e.data||{},i=n[t];if("function"==typeof i)return i(r,e);if("string"==typeof i)return r[i];if(void 0===i){var o=r[t];return void 0===o?"":o}},V=0,F=function(){function e(t){for(var n in b(this,e),this.id=V++,this.text=null,this.checked=!1,this.indeterminate=!1,this.data=null,this.expanded=!1,this.parent=null,this.visible=!0,this.isCurrent=!1,t)t.hasOwnProperty(n)&&(this[n]=t[n]);this.level=0,this.loaded=!1,this.childNodes=[],this.loading=!1,this.parent&&(this.level=this.parent.level+1);var r=this.store;if(!r)throw new Error("[Node]store is required!");r.registerNode(this);var i=r.props;if(i&&void 0!==i.isLeaf){var o=M(this,"isLeaf");"boolean"==typeof o&&(this.isLeafByUser=o)}if(!0!==r.lazy&&this.data?(this.setData(this.data),r.defaultExpandAll&&(this.expanded=!0)):this.level>0&&r.lazy&&r.defaultExpandAll&&this.expand(),Array.isArray(this.data)||z(this,this.data),this.data){var a=r.defaultExpandedKeys,d=r.key;d&&a&&-1!==a.indexOf(this.key)&&this.expand(null,r.autoExpandParent),d&&void 0!==r.currentNodeKey&&this.key===r.currentNodeKey&&(r.currentNode=this,r.currentNode.isCurrent=!0),r.lazy&&r._initDefaultCheckedNode(this),this.updateLeafState()}}return _(e,[{key:"setData",value:function(e){var t;Array.isArray(e)||z(this,e),this.data=e,this.childNodes=[];for(var n=0,r=(t=0===this.level&&this.data instanceof Array?this.data:M(this,"children")||[]).length;n<r;n++)this.insertChild({data:t[n]})}},{key:"label",get:function(){return M(this,"label")}},{key:"key",get:function(){var e=this.store.key;return this.data?this.data[e]:null}},{key:"disabled",get:function(){return M(this,"disabled")}},{key:"nextSibling",get:function(){var e=this.parent;if(e){var t=e.childNodes.indexOf(this);if(t>-1)return e.childNodes[t+1]}return null}},{key:"previousSibling",get:function(){var e=this.parent;if(e){var t=e.childNodes.indexOf(this);if(t>-1)return t>0?e.childNodes[t-1]:null}return null}},{key:"contains",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return function n(r){for(var i=r.childNodes||[],o=!1,a=0,d=i.length;a<d;a++){var s=i[a];if(s===e||t&&n(s)){o=!0;break}}return o}(this)}},{key:"remove",value:function(){var e=this.parent;e&&e.removeChild(this)}},{key:"insertChild",value:function(t,n,r){if(!t)throw new Error("insertChild error: child is required.");if(!(t instanceof e)){if(!r){var i=this.getChildren(!0);-1===i.indexOf(t.data)&&(void 0===n||n<0?i.push(t.data):i.splice(n,0,t.data))}y.default(t,{parent:this,store:this.store}),t=new e(t)}t.level=this.level+1,void 0===n||n<0?this.childNodes.push(t):this.childNodes.splice(n,0,t),this.updateLeafState()}},{key:"insertBefore",value:function(e,t){var n;t&&(n=this.childNodes.indexOf(t)),this.insertChild(e,n)}},{key:"insertAfter",value:function(e,t){var n;t&&-1!==(n=this.childNodes.indexOf(t))&&(n+=1),this.insertChild(e,n)}},{key:"removeChild",value:function(e){var t=this.getChildren()||[],n=t.indexOf(e.data);n>-1&&t.splice(n,1);var r=this.childNodes.indexOf(e);r>-1&&(this.store&&this.store.deregisterNode(e),e.parent=null,this.childNodes.splice(r,1)),this.updateLeafState()}},{key:"removeChildByData",value:function(e){for(var t=null,n=0;n<this.childNodes.length;n++)if(this.childNodes[n].data===e){t=this.childNodes[n];break}t&&this.removeChild(t)}},{key:"expand",value:function(e,t){var n=this,r=function(){if(t)for(var r=n.parent;r.level>0;)r.expanded=!0,r=r.parent;n.expanded=!0,e&&e()};this.shouldLoadData()?this.loadData((function(e){e instanceof Array&&(n.checked?n.setChecked(!0,!0):n.store.checkStrictly||q(n),r())})):r()}},{key:"doCreateChildren",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.forEach((function(e){t.insertChild(y.default({data:e},n),void 0,!0)}))}},{key:"collapse",value:function(){this.expanded=!1}},{key:"shouldLoadData",value:function(){return!0===this.store.lazy&&this.store.load&&!this.loaded}},{key:"updateLeafState",value:function(){if(!0!==this.store.lazy||!0===this.loaded||void 0===this.isLeafByUser){var e=this.childNodes;!this.store.lazy||!0===this.store.lazy&&!0===this.loaded?this.isLeaf=!e||0===e.length:this.isLeaf=!1}else this.isLeaf=this.isLeafByUser}},{key:"setChecked",value:function(e,t,n,r){var i=this;if(this.indeterminate="half"===e,this.checked=!0===e,!this.store.checkStrictly){if(!this.shouldLoadData()||this.store.checkDescendants){var o=R(this.childNodes),a=o.all,d=o.allWithoutDisable;this.isLeaf||a||!d||(this.checked=!1,e=!1);var s=function(){if(t){for(var n=i.childNodes,o=0,a=n.length;o<a;o++){var d=n[o];r=r||!1!==e;var s=d.disabled?d.checked:r;d.setChecked(s,t,!0,r)}var l=R(n),c=l.half,h=l.all;h||(i.checked=h,i.indeterminate=c)}};if(this.shouldLoadData())return void this.loadData((function(){s(),q(i)}),{checked:!1!==e});s()}var l=this.parent;l&&0!==l.level&&(n||q(l))}}},{key:"getChildren",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(0===this.level)return this.data;var t=this.data;if(!t)return null;var n=this.store.props,r="children";return n&&(r=n.children||"children"),void 0===t[r]&&(t[r]=null),e&&!t[r]&&(t[r]=[]),t[r]}},{key:"updateChildren",value:function(){var e=this,t=this.getChildren()||[],n=this.childNodes.map((function(e){return e.data})),r={},i=[];t.forEach((function(e,t){var a=e[B];!!a&&o.arrayFindIndex(n,(function(e){return e[B]===a}))>=0?r[a]={index:t,data:e}:i.push({index:t,data:e})})),this.store.lazy||n.forEach((function(t){r[t[B]]||e.removeChildByData(t)})),i.forEach((function(t){var n=t.index,r=t.data;e.insertChild({data:r},n)})),this.updateLeafState()}},{key:"loadData",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!0!==this.store.lazy||!this.store.load||this.loaded||this.loading&&!Object.keys(n).length)e&&e.call(this);else{this.loading=!0;this.store.load(this,(function(r){t.loaded=!0,t.loading=!1,t.childNodes=[],t.doCreateChildren(r,n),t.updateLeafState(),e&&e.call(t,r)}))}}}]),e}(),U=function(){function e(t){var n=this;for(var r in b(this,e),this.currentNode=null,this.currentNodeKey=null,t)t.hasOwnProperty(r)&&(this[r]=t[r]);(this.nodesMap={},this.root=new F({data:this.data,store:this}),this.lazy&&this.load)?(0,this.load)(this.root,(function(e){n.root.doCreateChildren(e),n._initDefaultCheckedNodes()})):this._initDefaultCheckedNodes()}return _(e,[{key:"filter",value:function(e){var t=this.filterNodeMethod,n=this.lazy;!function r(i){var o=i.root?i.root.childNodes:i.childNodes;if(o.forEach((function(n){n.visible=t.call(n,e,n.data,n),r(n)})),!i.visible&&o.length){var a;a=!o.some((function(e){return e.visible})),i.root?i.root.visible=!1===a:i.visible=!1===a}e&&(!i.visible||i.isLeaf||n||i.expand())}(this)}},{key:"setData",value:function(e){e!==this.root.data?(this.root.setData(e),this._initDefaultCheckedNodes()):this.root.updateChildren()}},{key:"getNode",value:function(e){if(e instanceof F)return e;var t="object"!==x(e)?e:j(this.key,e);return this.nodesMap[t]||null}},{key:"insertBefore",value:function(e,t){var n=this.getNode(t);n.parent.insertBefore({data:e},n)}},{key:"insertAfter",value:function(e,t){var n=this.getNode(t);n.parent.insertAfter({data:e},n)}},{key:"remove",value:function(e){var t=this.getNode(e);t&&t.parent&&(t===this.currentNode&&(this.currentNode=null),t.parent.removeChild(t))}},{key:"append",value:function(e,t){var n=t?this.getNode(t):this.root;n&&n.insertChild({data:e})}},{key:"_initDefaultCheckedNodes",value:function(){var e=this,t=this.defaultCheckedKeys||[],n=this.nodesMap;t.forEach((function(t){var r=n[t];r&&r.setChecked(!0,!e.checkStrictly)}))}},{key:"_initDefaultCheckedNode",value:function(e){-1!==(this.defaultCheckedKeys||[]).indexOf(e.key)&&e.setChecked(!0,!this.checkStrictly)}},{key:"setDefaultCheckedKey",value:function(e){e!==this.defaultCheckedKeys&&(this.defaultCheckedKeys=e,this._initDefaultCheckedNodes())}},{key:"registerNode",value:function(e){this.key&&e&&e.data&&(void 0!==e.key&&(this.nodesMap[e.key]=e))}},{key:"deregisterNode",value:function(e){var t=this;this.key&&e&&e.data&&(e.childNodes.forEach((function(e){t.deregisterNode(e)})),delete this.nodesMap[e.key])}},{key:"getCheckedNodes",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=[];return function r(i){(i.root?i.root.childNodes:i.childNodes).forEach((function(i){(i.checked||t&&i.indeterminate)&&(!e||e&&i.isLeaf)&&n.push(i.data),r(i)}))}(this),n}},{key:"getCheckedKeys",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.getCheckedNodes(t).map((function(t){return(t||{})[e.key]}))}},{key:"getHalfCheckedNodes",value:function(){var e=[];return function t(n){(n.root?n.root.childNodes:n.childNodes).forEach((function(n){n.indeterminate&&e.push(n.data),t(n)}))}(this),e}},{key:"getHalfCheckedKeys",value:function(){var e=this;return this.getHalfCheckedNodes().map((function(t){return(t||{})[e.key]}))}},{key:"_getAllNodes",value:function(){var e=[],t=this.nodesMap;for(var n in t)t.hasOwnProperty(n)&&e.push(t[n]);return e}},{key:"updateChildren",value:function(e,t){var n=this.nodesMap[e];if(n){for(var r=n.childNodes,i=r.length-1;i>=0;i--){var o=r[i];this.remove(o.data)}for(var a=0,d=t.length;a<d;a++){var s=t[a];this.append(s,n.data)}}}},{key:"_setCheckedKeys",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2?arguments[2]:void 0,i=this._getAllNodes().sort((function(e,t){return t.level-e.level})),o=Object.create(null),a=Object.keys(r);i.forEach((function(e){return e.setChecked(!1,!1)}));for(var d=function(){var r=i[s],d=r.data[e].toString();if(!(a.indexOf(d)>-1))return r.checked&&!o[d]&&r.setChecked(!1,!1),0;for(var l=r.parent;l&&l.level>0;)o[l.data[e]]=!0,l=l.parent;if(r.isLeaf||t.checkStrictly)return r.setChecked(!0,!1),0;if(r.setChecked(!0,!0),n){r.setChecked(!1,!1);!function e(t){t.childNodes.forEach((function(t){t.isLeaf||t.setChecked(!1,!1),e(t)}))}(r)}},s=0,l=i.length;s<l;s++)d()}},{key:"setCheckedNodes",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.key,r={};e.forEach((function(e){r[(e||{})[n]]=!0})),this._setCheckedKeys(n,t,r)}},{key:"setCheckedKeys",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.defaultCheckedKeys=e;var n=this.key,r={};e.forEach((function(e){r[e]=!0})),this._setCheckedKeys(n,t,r)}},{key:"setDefaultExpandedKeys",value:function(e){var t=this;e=e||[],this.defaultExpandedKeys=e,e.forEach((function(e){var n=t.getNode(e);n&&n.expand(null,t.autoExpandParent)}))}},{key:"setChecked",value:function(e,t,n){var r=this.getNode(e);r&&r.setChecked(!!t,n)}},{key:"getCurrentNode",value:function(){return this.currentNode}},{key:"setCurrentNode",value:function(e){var t=this.currentNode;t&&(t.isCurrent=!1),this.currentNode=e,this.currentNode.isCurrent=!0}},{key:"setUserCurrentNode",value:function(e){var t=e[this.key],n=this.nodesMap[t];this.setCurrentNode(n)}},{key:"setCurrentNodeKey",value:function(e){if(null==e)return this.currentNode&&(this.currentNode.isCurrent=!1),void(this.currentNode=null);var t=this.getNode(e);t&&this.setCurrentNode(t)}}]),e}(),H={methods:{handleDragStart:function(e){this.tree.draggable&&this.tree.$emit("tree-node-drag-start",e,this)},handleDragOver:function(e){this.tree.draggable&&(this.tree.$emit("tree-node-drag-over",e,this),e.preventDefault())},handleDrop:function(e){e.preventDefault()},handleDragEnd:function(e){this.tree.draggable&&this.tree.$emit("tree-node-drag-end",e,this)},creator:function(e,t){var n=this[t];e.isTree?this.tree=e:this.tree=e.tree;var r=this.tree;r||console.warn("Can not find node's tree.");var i=(r.props||{}).children||"children";this.$watch("".concat(t,".data.").concat(i),(function(){n.updateChildren()})),n.expanded&&(this.expanded=!0,this.childNodeRendered=!0),this.tree.accordion&&this.$on("tree-node-expand",(function(e){n!==e&&n.collapse()}))},getNodeKey:function(e){return j(this.tree.nodeKey,e.data)},handleSelectChange:function(e,t){var n=this.node||this.source;this.oldChecked!==e&&this.oldIndeterminate!==t&&this.tree.$emit("check-change",n.data,e,t),this.oldChecked=e,this.indeterminate=t},handleClick:function(){var e=this.node||this.source,t=this.tree.store;t.setCurrentNode(e),this.tree.$emit("current-change",t.currentNode?t.currentNode.data:null,t.currentNode),this.tree.currentNode=this,this.tree.expandOnClickNode&&this.handleExpandIconClick(),this.tree.checkOnClickNode&&!e.disabled&&this.handleCheckChange(null,{target:{checked:!e.checked}}),this.tree.$emit("node-click",e.data,e,this)},handleContextMenu:function(e){var t=this.node||this.source;this.tree._events["node-contextmenu"]&&this.tree._events["node-contextmenu"].length>0&&(e.stopPropagation(),e.preventDefault()),this.tree.$emit("node-contextmenu",e,t.data,t,this)},handleExpandIconClick:function(){var e=this.node||this.source;e.isLeaf||(this.expanded?(this.tree.$emit("node-collapse",e.data,e,this),e.collapse()):(e.expand(),this.$emit("node-expand",e.data,e,this)))},handleCheckChange:function(e,t){var n=this,r=this.node||this.source;r.setChecked(t.target.checked,!this.tree.checkStrictly),this.$nextTick((function(){var e=n.tree.store;n.tree.$emit("check",r.data,{checkedNodes:e.getCheckedNodes(),checkedKeys:e.getCheckedKeys(),halfCheckedNodes:e.getHalfCheckedNodes(),halfCheckedKeys:e.getHalfCheckedKeys()})}))},handleChildNodeExpand:function(e,t,n){this.broadcast("ElTreeNode","tree-node-expand",t),this.tree.$emit("node-expand",e,t,n)}}},Y=T({render:function(){var e=this,t=this,n=t.$createElement,r=t._self._c||n;return r("div",{directives:[{name:"show",rawName:"v-show",value:t.node.visible,expression:"node.visible"}],ref:"node",staticClass:"el-tree-node",class:{"is-expanded":t.expanded,"is-current":t.node.isCurrent,"is-hidden":!t.node.visible,"is-focusable":!t.node.disabled,"is-checked":!t.node.disabled&&t.node.checked},attrs:{role:"treeitem",tabindex:"-1","aria-expanded":t.expanded,"aria-disabled":t.node.disabled,"aria-checked":t.node.checked,draggable:t.tree.draggable},on:{click:function(e){return e.stopPropagation(),t.handleClick.apply(null,arguments)},contextmenu:function(t){return e.handleContextMenu(t)},dragstart:function(e){return e.stopPropagation(),t.handleDragStart.apply(null,arguments)},dragover:function(e){return e.stopPropagation(),t.handleDragOver.apply(null,arguments)},dragend:function(e){return e.stopPropagation(),t.handleDragEnd.apply(null,arguments)},drop:function(e){return e.stopPropagation(),t.handleDrop.apply(null,arguments)}}},[r("div",{staticClass:"el-tree-node__content",style:{"padding-left":(t.node.level-1)*t.tree.indent+"px"}},[r("span",{class:[{"is-leaf":t.node.isLeaf,expanded:!t.node.isLeaf&&t.expanded},"el-tree-node__expand-icon",t.tree.iconClass?t.tree.iconClass:"el-icon-caret-right"],on:{click:function(e){return e.stopPropagation(),t.handleExpandIconClick.apply(null,arguments)}}}),t._v(" "),t.showCheckbox?r("el-checkbox",{attrs:{indeterminate:t.node.indeterminate,disabled:!!t.node.disabled},on:{change:t.handleCheckChange},nativeOn:{click:function(e){e.stopPropagation()}},model:{value:t.node.checked,callback:function(e){t.$set(t.node,"checked",e)},expression:"node.checked"}}):t._e(),t._v(" "),t.node.loading?r("span",{staticClass:"el-tree-node__loading-icon el-icon-loading"}):t._e(),t._v(" "),r("node-content",{attrs:{node:t.node}})],1),t._v(" "),r("el-collapse-transition",[!t.renderAfterExpand||t.childNodeRendered?r("div",{directives:[{name:"show",rawName:"v-show",value:t.expanded,expression:"expanded"}],staticClass:"el-tree-node__children",attrs:{role:"group","aria-expanded":t.expanded}},t._l(t.node.childNodes,(function(e){return r("el-tree-node",{key:t.getNodeKey(e),attrs:{"render-content":t.renderContent,"render-after-expand":t.renderAfterExpand,"show-checkbox":t.showCheckbox,node:e},on:{"node-expand":t.handleChildNodeExpand}})})),1):t._e()])],1)},staticRenderFns:[]},undefined,{name:"ElTreeNode",componentName:"ElTreeNode",mixins:[C.default,H],props:{node:{default:function(){return{}}},props:{},renderContent:Function,renderAfterExpand:{type:Boolean,default:!0},showCheckbox:{type:Boolean,default:!1}},components:{ElCollapseTransition:k.default,ElCheckbox:m.default,NodeContent:{props:{node:{required:!0}},render:function(e){var t=this.$parent,n=t.tree,r=this.node,i=r.data,o=r.store;return t.renderContent?t.renderContent.call(t._renderProxy,e,{_self:n.$vnode.context,node:r,data:i,store:o}):n.$scopedSlots.default?n.$scopedSlots.default({node:r,data:i}):e("span",{class:"el-tree-node__label"},[r.label])}}},data:function(){return{tree:null,expanded:!1,childNodeRendered:!1,oldChecked:null,oldIndeterminate:null}},watch:{"node.indeterminate":function(e){this.handleSelectChange(this.node.checked,e)},"node.checked":function(e){this.handleSelectChange(e,this.node.indeterminate)},"node.expanded":function(e){var t=this;this.$nextTick((function(){return t.expanded=e})),e&&(this.childNodeRendered=!0)}},methods:{getNodeKey:function(e){return j(this.tree.nodeKey,e.data)},handleDragStart:function(e){this.tree.draggable&&this.tree.$emit("tree-node-drag-start",e,this)},handleDragOver:function(e){this.tree.draggable&&(this.tree.$emit("tree-node-drag-over",e,this),e.preventDefault())},handleDrop:function(e){e.preventDefault()},handleDragEnd:function(e){this.tree.draggable&&this.tree.$emit("tree-node-drag-end",e,this)}},created:function(){var e=this.$parent;this.creator(e,"node")}},undefined,false,undefined,!1,void 0,void 0,void 0),W=T({render:function(){var e=this,t=this,n=t.$createElement,r=t._self._c||n;return r("div",{directives:[{name:"show",rawName:"v-show",value:t.source.visible,expression:"source.visible"}],ref:"node",staticClass:"el-tree-node",class:{"is-expanded":t.expanded,"is-current":t.source.isCurrent,"is-hidden":!t.source.visible,"is-focusable":!t.source.disabled,"is-checked":!t.source.disabled&&t.source.checked},attrs:{role:"treeitem",tabindex:"-1","aria-expanded":t.expanded,"aria-disabled":t.source.disabled,"aria-checked":t.source.checked,draggable:t.tree.draggable},on:{click:function(e){return e.stopPropagation(),t.handleClick.apply(null,arguments)},contextmenu:function(t){return e.handleContextMenu(t)},dragstart:function(e){return e.stopPropagation(),t.handleDragStart.apply(null,arguments)},dragover:function(e){return e.stopPropagation(),t.handleDragOver.apply(null,arguments)},dragend:function(e){return e.stopPropagation(),t.handleDragEnd.apply(null,arguments)},drop:function(e){return e.stopPropagation(),t.handleDrop.apply(null,arguments)}}},[r("div",{staticClass:"el-tree-node__content"},[r("span",{style:{"min-width":(t.source.level-1)*t.tree.indent+"px"},attrs:{"aria-hidden":"true"}}),t._v(" "),r("span",{class:[{"is-leaf":t.source.isLeaf,expanded:!t.source.isLeaf&&t.expanded},"el-tree-node__expand-icon",t.tree.iconClass?t.tree.iconClass:"el-icon-caret-right"],on:{click:function(e){return e.stopPropagation(),t.handleExpandIconClick.apply(null,arguments)}}}),t._v(" "),t.showCheckbox?r("el-checkbox",{attrs:{indeterminate:t.source.indeterminate,disabled:!!t.source.disabled},on:{change:t.handleCheckChange},nativeOn:{click:function(e){e.stopPropagation()}},model:{value:t.source.checked,callback:function(e){t.$set(t.source,"checked",e)},expression:"source.checked"}}):t._e(),t._v(" "),t.source.loading?r("span",{staticClass:"el-tree-node__loading-icon el-icon-loading"}):t._e(),t._v(" "),r("node-content",{attrs:{node:t.source}})],1)])},staticRenderFns:[]},undefined,{name:"ElTreeVirtualNode",componentName:"ElTreeVirtualNode",mixins:[C.default,H],props:{source:{default:function(){return{}}},renderContent:Function,showCheckbox:{type:Boolean,default:!1}},components:{ElCheckbox:m.default,NodeContent:{props:{node:{required:!0}},render:function(e){var t=this.$parent,n=t.tree,r=this.node,i=r.data,o=r.store;return t.renderContent?t.renderContent.call(t._renderProxy,e,{_self:n.$vnode.context,node:r,data:i,store:o}):n.$scopedSlots.default?n.$scopedSlots.default({node:r,data:i}):e("span",{class:"el-tree-node__label"},[r.label])}}},data:function(){return{tree:null,expanded:!1,childNodeRendered:!1,oldChecked:null,oldIndeterminate:null}},watch:{"source.indeterminate":function(e){this.handleSelectChange(this.source.checked,e)},"source.checked":function(e){this.handleSelectChange(e,this.source.indeterminate)},"source.expanded":function(e){var t=this;this.$nextTick((function(){return t.expanded=e})),e&&(this.childNodeRendered=!0)}},created:function(){var e=this.$parent.$parent.$parent;this.node=this.source,this.creator(e,"source")}},undefined,false,undefined,!1,void 0,void 0,void 0),X=T({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"el-tree",class:{"el-tree--highlight-current":e.highlightCurrent,"is-dragging":!!e.dragState.draggingNode,"is-drop-not-allow":!e.dragState.allowDrop,"is-drop-inner":"inner"===e.dragState.dropType},attrs:{role:"tree"}},[e.height?n("virtual-list",{style:{"max-height":e.height,"overflow-y":"auto"},attrs:{"data-key":e.getNodeKey,"data-sources":e.visibleList,"data-component":e.itemComponent,"extra-props":{renderAfterExpand:e.renderAfterExpand,showCheckbox:e.showCheckbox,renderContent:e.renderContent,onNodeExpand:e.handleNodeExpand}}}):e._l(e.root.childNodes,(function(t){return n("el-tree-node",{key:e.getNodeKey(t),attrs:{node:t,props:e.props,"render-after-expand":e.renderAfterExpand,"show-checkbox":e.showCheckbox,"render-content":e.renderContent},on:{"node-expand":e.handleNodeExpand}})})),e._v(" "),e.isEmpty?n("div",{staticClass:"el-tree__empty-block"},[n("span",{staticClass:"el-tree__empty-text"},[e._v(e._s(e.emptyText))])]):e._e(),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:e.dragState.showDropIndicator,expression:"dragState.showDropIndicator"}],ref:"dropIndicator",staticClass:"el-tree__drop-indicator"})],2)},staticRenderFns:[]},undefined,{name:"ElTree",mixins:[C.default],components:{VirtualList:g.default,ElTreeNode:Y},data:function(){return{store:null,root:null,currentNode:null,treeItems:null,checkboxItems:[],dragState:{showDropIndicator:!1,draggingNode:null,dropNode:null,allowDrop:!0},itemComponent:W}},props:{data:{type:Array},emptyText:{type:String,default:function(){return c.t("el.tree.emptyText")}},renderAfterExpand:{type:Boolean,default:!0},nodeKey:String,checkStrictly:Boolean,defaultExpandAll:Boolean,expandOnClickNode:{type:Boolean,default:!0},checkOnClickNode:Boolean,checkDescendants:{type:Boolean,default:!1},autoExpandParent:{type:Boolean,default:!0},defaultCheckedKeys:Array,defaultExpandedKeys:Array,currentNodeKey:[String,Number],renderContent:Function,showCheckbox:{type:Boolean,default:!1},draggable:{type:Boolean,default:!1},allowDrag:Function,allowDrop:Function,props:{default:function(){return{children:"children",label:"label",disabled:"disabled"}}},lazy:{type:Boolean,default:!1},highlightCurrent:Boolean,load:Function,filterNodeMethod:Function,accordion:Boolean,indent:{type:Number,default:18},iconClass:String,height:{type:[String,Number],default:0},extraLine:{type:Number,default:8}},computed:{children:{set:function(e){this.data=e},get:function(){return this.data}},treeItemArray:function(){return Array.prototype.slice.call(this.treeItems)},isEmpty:function(){var e=this.root.childNodes;return!e||0===e.length||e.every((function(e){return!e.visible}))},visibleList:function(){return this.flattenTree(this.root.childNodes)}},watch:{defaultCheckedKeys:function(e){this.store.setDefaultCheckedKey(e)},defaultExpandedKeys:function(e){this.store.defaultExpandedKeys=e,this.store.setDefaultExpandedKeys(e)},data:function(e){this.store.setData(e)},checkboxItems:function(e){Array.prototype.forEach.call(e,(function(e){e.setAttribute("tabindex",-1)}))},checkStrictly:function(e){this.store.checkStrictly=e}},methods:{flattenTree:function(e){var t=this;return e.reduce((function(e,n){return n.visible&&e.push(n),n.expanded&&n.childNodes.length&&e.push.apply(e,E(t.flattenTree(n.childNodes))),e}),[])},filter:function(e){if(!this.filterNodeMethod)throw new Error("[Tree] filterNodeMethod is required when filter");this.store.filter(e)},getNodeKey:function(e){return j(this.nodeKey,e.data)},getNodePath:function(e){if(!this.nodeKey)throw new Error("[Tree] nodeKey is required in getNodePath");var t=this.store.getNode(e);if(!t)return[];for(var n=[t.data],r=t.parent;r&&r!==this.root;)n.push(r.data),r=r.parent;return n.reverse()},getCheckedNodes:function(e,t){return this.store.getCheckedNodes(e,t)},getCheckedKeys:function(e){return this.store.getCheckedKeys(e)},getCurrentNode:function(){var e=this.store.getCurrentNode();return e?e.data:null},getCurrentKey:function(){if(!this.nodeKey)throw new Error("[Tree] nodeKey is required in getCurrentKey");var e=this.getCurrentNode();return e?e[this.nodeKey]:null},setCheckedNodes:function(e,t){if(!this.nodeKey)throw new Error("[Tree] nodeKey is required in setCheckedNodes");this.store.setCheckedNodes(e,t)},setCheckedKeys:function(e,t){if(!this.nodeKey)throw new Error("[Tree] nodeKey is required in setCheckedKeys");this.store.setCheckedKeys(e,t)},setChecked:function(e,t,n){this.store.setChecked(e,t,n)},getHalfCheckedNodes:function(){return this.store.getHalfCheckedNodes()},getHalfCheckedKeys:function(){return this.store.getHalfCheckedKeys()},setCurrentNode:function(e){if(!this.nodeKey)throw new Error("[Tree] nodeKey is required in setCurrentNode");this.store.setUserCurrentNode(e)},setCurrentKey:function(e){if(!this.nodeKey)throw new Error("[Tree] nodeKey is required in setCurrentKey");this.store.setCurrentNodeKey(e)},getNode:function(e){return this.store.getNode(e)},remove:function(e){this.store.remove(e)},append:function(e,t){this.store.append(e,t)},insertBefore:function(e,t){this.store.insertBefore(e,t)},insertAfter:function(e,t){this.store.insertAfter(e,t)},handleNodeExpand:function(e,t,n){this.broadcast("ElTreeNode","tree-node-expand",t),this.$emit("node-expand",e,t,n)},updateKeyChildren:function(e,t){if(!this.nodeKey)throw new Error("[Tree] nodeKey is required in updateKeyChild");this.store.updateChildren(e,t)},initTabIndex:function(){this.treeItems=this.$el.querySelectorAll(".is-focusable[role=treeitem]"),this.checkboxItems=this.$el.querySelectorAll("input[type=checkbox]");var e=this.$el.querySelectorAll(".is-checked[role=treeitem]");e.length?e[0].setAttribute("tabindex",0):this.treeItems[0]&&this.treeItems[0].setAttribute("tabindex",0)},handleKeydown:function(e){var t=e.target;if(-1!==t.className.indexOf("el-tree-node")){var n=e.keyCode;this.treeItems=this.$el.querySelectorAll(".is-focusable[role=treeitem]");var r,i=this.treeItemArray.indexOf(t);[38,40].indexOf(n)>-1&&(e.preventDefault(),r=38===n?0!==i?i-1:0:i<this.treeItemArray.length-1?i+1:0,this.treeItemArray[r].focus()),[37,39].indexOf(n)>-1&&(e.preventDefault(),t.click());var o=t.querySelector('[type="checkbox"]');[13,32].indexOf(n)>-1&&o&&(e.preventDefault(),o.click())}}},created:function(){var e=this;this.isTree=!0,this.store=new U({key:this.nodeKey,data:this.data,lazy:this.lazy,props:this.props,load:this.load,currentNodeKey:this.currentNodeKey,checkStrictly:this.checkStrictly,checkDescendants:this.checkDescendants,defaultCheckedKeys:this.defaultCheckedKeys,defaultExpandedKeys:this.defaultExpandedKeys,autoExpandParent:this.autoExpandParent,defaultExpandAll:this.defaultExpandAll,filterNodeMethod:this.filterNodeMethod}),this.root=this.store.root;var t=this.dragState;this.$on("tree-node-drag-start",(function(n,r){if("function"==typeof e.allowDrag&&!e.allowDrag(r.node))return n.preventDefault(),!1;n.dataTransfer.effectAllowed="move";try{n.dataTransfer.setData("text/plain","")}catch(e){console.log(e)}t.draggingNode=r,e.$emit("node-drag-start",r.node,n)})),this.$on("tree-node-drag-over",(function(n,r){var i=function(e,t){for(var n=e;n&&"BODY"!==n.tagName;){if(n.__vue__&&n.__vue__.$options.name===t)return n.__vue__;n=n.parentNode}return null}(n.target,"ElTreeVirtualNode"),o=t.dropNode;o&&o!==i&&h.removeClass(o.$el,"is-drop-inner");var a=t.draggingNode;if(a&&i){var d=!0,s=!0,l=!0,c=!0;"function"==typeof e.allowDrop&&(d=e.allowDrop(a.node,i.node,"prev"),c=s=e.allowDrop(a.node,i.node,"inner"),l=e.allowDrop(a.node,i.node,"next")),n.dataTransfer.dropEffect=s?"move":"none",(d||s||l)&&o!==i&&(o&&e.$emit("node-drag-leave",a.node,o.node,n),e.$emit("node-drag-enter",a.node,i.node,n)),(d||s||l)&&(t.dropNode=i),i.node.nextSibling===a.node&&(l=!1),i.node.previousSibling===a.node&&(d=!1),i.node.contains(a.node,!1)&&(s=!1),(a.node===i.node||a.node.contains(i.node))&&(d=!1,s=!1,l=!1);var u,f=i.$el.getBoundingClientRect(),p=e.$el.getBoundingClientRect(),v=d?s?.25:l?.45:1:-1,y=l?s?.75:d?.55:0:1,g=-9999,k=n.clientY-f.top;u=k<f.height*v?"before":k>f.height*y?"after":s?"inner":"none";var m=i.$el.querySelector(".el-tree-node__expand-icon").getBoundingClientRect(),C=e.$refs.dropIndicator;"before"===u?g=m.top-p.top:"after"===u&&(g=m.bottom-p.top),C.style.top=g+"px",C.style.left=m.right-p.left+"px","inner"===u?h.addClass(i.$el,"is-drop-inner"):h.removeClass(i.$el,"is-drop-inner"),t.showDropIndicator="before"===u||"after"===u,t.allowDrop=t.showDropIndicator||c,t.dropType=u,e.$emit("node-drag-over",a.node,i.node,n)}})),this.$on("tree-node-drag-end",(function(n){var r=t.draggingNode,i=t.dropType,o=t.dropNode;if(n.preventDefault(),n.dataTransfer.dropEffect="move",r&&o){var a={data:r.node.data};"none"!==i&&r.node.remove(),"before"===i?o.node.parent.insertBefore(a,o.node):"after"===i?o.node.parent.insertAfter(a,o.node):"inner"===i&&o.node.insertChild(a),"none"!==i&&e.store.registerNode(a),h.removeClass(o.$el,"is-drop-inner"),e.$emit("node-drag-end",r.node,o.node,i,n),"none"!==i&&e.$emit("node-drop",r.node,o.node,i,n)}r&&!o&&e.$emit("node-drag-end",r.node,null,i,n),t.showDropIndicator=!1,t.draggingNode=null,t.dropNode=null,t.allowDrop=!0}))},mounted:function(){this.initTabIndex(),this.$el.addEventListener("keydown",this.handleKeydown)},updated:function(){this.treeItems=this.$el.querySelectorAll("[role=treeitem]"),this.checkboxItems=this.$el.querySelectorAll("input[type=checkbox]")}},undefined,false,undefined,!1,void 0,void 0,void 0);X.install=function(e){e.component(X.name,X)};var J=T({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"container"},[n("el-popover",{directives:[{name:"clickoutside",rawName:"v-clickoutside",value:e.hide,expression:"hide"}],ref:"popper",staticClass:"select-ele-tree",attrs:{trigger:"manual",placement:"bottom-start","visible-arrow":!1,"append-to-body":!1,"popper-class":"popper"},model:{value:e.popperVisible,callback:function(t){e.popperVisible=t},expression:"popperVisible"}},[n("el-scrollbar",{staticStyle:{"min-height":"200px"}},[n("el-virtual-tree",e._b({ref:"tree",attrs:{"show-checkbox":"","node-key":"id",height:e.height,"filter-node-method":e.filterNode},on:{check:e.currentChange}},"el-virtual-tree",e.$attrs,!1))],1),e._v(" "),n("div",{attrs:{slot:"reference"},slot:"reference"},[n("el-tag-input",{attrs:{size:"small"},on:{searchTextChange:e.searchTextChange,focus:e.focus,clear:e.clear}})],1)],1)],1)},staticRenderFns:[]},(function(e){e&&e("data-v-02ce6fc8_0",{source:".container[data-v-02ce6fc8]{position:relative;display:inline-block;width:100%}[data-v-02ce6fc8] .popper.el-popper{margin-top:0;box-sizing:border-box;width:100%;padding:0}",map:void 0,media:void 0})}),{directives:{Clickoutside:v.default},props:{value:[],height:{type:String,default:"200px"}},data:function(){return{popperVisible:!1,store:S}},components:{ElTagInput:P,ElVirtualTree:X},watch:{"store.selectKeys":{handler:function(e){var t=this;this.$nextTick((function(){t.$refs.tree.setCheckedKeys([]),e&&e.forEach((function(e){t.$refs.tree.setChecked(e,!0,!1)})),t.$refs.popper.updatePopper()}))},deep:!0}},methods:{searchTextChange:function(e){this.$refs.tree.filter(e)},currentChange:function(e,t){var n=this;this.$emit("update:value",t.checkedKeys),S.selectKeys=t.checkedKeys,S.selectNodes=t.checkedNodes,setTimeout((function(){n.$refs.popper.updatePopper()}),400)},filterNode:function(e,t){return!e||-1!==t.label.indexOf(e)},focus:function(){this.popperVisible=!0},hide:function(){this.popperVisible=!1},clear:function(){var e=this;this.$refs.tree.setCheckedKeys([]),setTimeout((function(){e.$refs.popper.updatePopper()}),400)}}},"data-v-02ce6fc8",false,undefined,!1,O,void 0,void 0);f.default.use(p.default);var G=Object.freeze({__proto__:null,EleTreeVirtual:J}),Q=function(e){Object.entries(G).forEach((function(t){var n=w(t,2),r=n[0],i=n[1];e.component(r,i)}))},Z=Object.freeze({__proto__:null,default:Q,EleTreeVirtual:J});return Object.entries(Z).forEach((function(e){var t=w(e,2),n=t[0],r=t[1];"default"!==n&&(Q[n]=r)})),Q}(Vue,ElementUI,0,Clickoutside,objectAssign,util,VirtualList,ElCollapseTransition,ElCheckbox,emitter,locale,dom);